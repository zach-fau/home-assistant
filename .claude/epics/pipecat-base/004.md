---
name: Assistant Customization
status: completed
created: 2025-10-29T00:19:22Z
updated: 2025-10-29T00:56:00Z
github: null
depends_on: [3]
parallel: true
conflicts_with: [5]
---

# Task: Assistant Customization

## Description

Customize the voice assistant personality by updating the system prompt and selecting an optimal TTS voice. Transform the generic quickstart bot into "Alex" - a helpful daily life assistant with a friendly, efficient personality optimized for voice interaction.

**Focus:** Configuration over code - minimal changes to bot.py.

## Acceptance Criteria

- [ ] System prompt updated to define "Alex" personality
- [ ] System prompt optimized for brief voice responses
- [ ] TTS voice selected (professional, warm, clear)
- [ ] Voice quality tested and validated
- [ ] Assistant responds with appropriate personality
- [ ] Responses are concise (1-2 sentences for voice)
- [ ] Tone is friendly and helpful
- [ ] Alternative voice options documented

## Technical Details

### System Prompt Configuration

**Location:** `bot.py` - in the LLMContext initialization

**Current (Generic):**
```python
messages = [
    {
        "role": "system",
        "content": "You are a helpful assistant."
    }
]
```

**Updated (Alex - Daily Assistant):**
```python
messages = [
    {
        "role": "system",
        "content": """You are Alex, a helpful daily life assistant.

Personality:
- Concise and efficient (aim for 1-2 sentence responses)
- Friendly and warm
- Proactive in offering help
- Patient with clarifications

Capabilities (current):
- General conversation and information
- Planning and scheduling discussions
- Helpful explanations and advice

Response Guidelines:
- Keep responses brief for voice interaction
- Ask clarifying questions when uncertain
- Acknowledge actions clearly
- Use natural, conversational language
- Avoid lengthy explanations unless requested

Examples:
User: "Hello"
Alex: "Hi! I'm Alex, your daily assistant. How can I help you today?"

User: "What's the weather?"
Alex: "I don't have access to weather data yet, but I can help with planning and scheduling. What would you like to organize?"

User: "Tell me about Python programming"
Alex: "Python is a versatile programming language known for clear syntax and extensive libraries. Would you like to know about a specific aspect?"
"""
    }
]
```

### TTS Voice Selection

**Location:** `bot.py` - CartesiaTTSService configuration

**Test Multiple Voices:**

1. **Professional Warm (Recommended)**
   ```python
   tts = CartesiaTTSService(
       api_key=os.getenv("CARTESIA_API_KEY"),
       voice_id="a0e99841-438c-4a64-b679-ae501e7d6091"
   )
   ```

2. **Alternative Options to Test:**
   ```python
   # Friendly conversational
   voice_id="79a125e8-cd45-4c13-8a67-188112f4dd22"

   # Professional formal
   voice_id="694f9389-aac1-45b6-b726-9d9369183238"

   # Warm empathetic
   voice_id="71a7ad14-091c-4e8e-a314-022ece01c121"
   ```

**Voice Selection Criteria:**
- Clarity: Easy to understand
- Natural: Not robotic or synthetic
- Warmth: Friendly and approachable
- Pacing: Not too fast or slow
- Gender: Neutral or user preference

### Implementation Approach

**Minimal Code Changes:**
1. Locate system prompt in bot.py (around line 40-50)
2. Replace with Alex personality prompt
3. Locate TTS configuration (around line 80-90)
4. Update voice_id parameter
5. Test and iterate

**File Structure:**
```
pipecat-quickstart/
├── bot.py                 # MODIFY: System prompt + TTS voice
├── .env                   # No changes
└── pyproject.toml         # No changes
```

### Key Considerations

- **Voice Responses:** Users can't scan text, must listen sequentially
- **Brevity:** Aim for 1-2 sentences unless more detail requested
- **Clarity:** Use simple, direct language
- **Personality:** Consistent tone across all interactions

### Files Affected

- `bot.py` (system prompt and TTS configuration sections only)

## Dependencies

### External Dependencies
- [ ] Cartesia voice catalog access
- [ ] Ability to test different voices

### Task Dependencies
- [ ] Task 003 (Basic Pipeline Validation) complete

## Effort Estimate

- **Size:** S
- **Hours:** 2-3 hours (including testing multiple voices)
- **Parallel:** true (can work alongside monitoring/logging setup)

## Implementation Notes

### Finding the Code Sections

**System Prompt Location:**
```python
# Look for LLMContext initialization
context = LLMContext(
    messages=[
        {
            "role": "system",
            "content": "..."  # <- Replace this
        }
    ]
)
```

**TTS Configuration Location:**
```python
# Look for CartesiaTTSService initialization
tts = CartesiaTTSService(
    api_key=os.getenv("CARTESIA_API_KEY"),
    voice_id="..."  # <- Update this
)
```

### Testing Different Personalities

Try variations and compare:

**Version 1: Very Concise**
```python
"You are Alex. Be brief, friendly, helpful. 1-2 sentences max."
```

**Version 2: Detailed (Current Recommendation)**
```python
[Full prompt from Technical Details above]
```

**Version 3: Playful**
```python
"You are Alex, an enthusiastic helper. Be upbeat, concise, and fun!"
```

Test each with the same questions:
1. "Hello"
2. "What can you do?"
3. "Tell me about your capabilities"

Compare responses for:
- Length (word count)
- Tone
- Clarity
- Usefulness

### Voice Testing Script

Test each voice with these phrases:

1. **Short Response:** "Sure, I can help with that."
2. **Medium Response:** "I'd be happy to help you schedule that. What time works best for you?"
3. **Long Response:** "To set up a reminder, I'll need a few details: what should I remind you about, when would you like the reminder, and would you like it to repeat?"

Rate each voice:
- Clarity: 1-5
- Naturalness: 1-5
- Warmth: 1-5
- Pacing: 1-5

### Troubleshooting Common Issues

**Issue:** Responses are still too long
**Solution:** Add explicit length constraints to system prompt
```python
"CRITICAL: Keep ALL responses to 1-2 sentences maximum. Users are listening, not reading."
```

**Issue:** Voice sounds unnatural
**Solution:** Try different voice IDs from Cartesia catalog
```bash
# Browse available voices at: https://cartesia.ai/voices
```

**Issue:** Personality inconsistent
**Solution:** Add few-shot examples to system prompt
```python
# Include 5-10 example exchanges in system prompt
```

**Issue:** Assistant too formal or robotic
**Solution:** Add conversational markers
```python
"Use natural speech patterns: 'um', 'well', 'you know' occasionally"
```

## Validation Tests

### Test 1: Personality Consistency
```
Exchange 1: "Hello"
Exchange 2: "How are you?"
Exchange 3: "What can you help with?"
Expected: Consistent tone and personality
Result: PASS/FAIL
```

### Test 2: Response Length
```
Question: "Tell me about your capabilities"
Response word count: _____ words
Target: <50 words for voice
Result: PASS/FAIL
```

### Test 3: Voice Quality
```
Rate the voice:
- Clarity: ___/5
- Naturalness: ___/5
- Warmth: ___/5
- Overall: ___/5
Result: Must score ≥4 overall
```

### Test 4: Multi-turn Context
```
User: "My name is Sarah"
User: "What's my name?"
Expected: "Your name is Sarah"
Result: PASS/FAIL
```

## Documentation

After customization, document:

1. **Selected Configuration**
   - System prompt (full text)
   - Voice ID and name
   - Rationale for choices

2. **Rejected Options**
   - Voices tested but not selected
   - Prompt variations tried
   - Reasons for rejection

3. **Observations**
   - User feedback on personality
   - Response length patterns
   - Edge cases discovered

## Definition of Done

- [ ] System prompt updated in bot.py
- [ ] TTS voice selected and configured
- [ ] Bot restarted and tested
- [ ] Personality feels appropriate
- [ ] Responses are concise and clear
- [ ] Voice quality is natural and warm
- [ ] Configuration documented
- [ ] Alternative options documented for future reference

## References

- Cartesia Voice Catalog: https://cartesia.ai/voices
- OpenAI System Prompt Best Practices: https://platform.openai.com/docs/guides/prompt-engineering
- Pipecat Reference: `.claude/docs/pipecat-reference.md`
